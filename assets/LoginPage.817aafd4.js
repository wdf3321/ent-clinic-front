import{Q as c}from"./QInput.2f8b228b.js";import{aT as g,v as _,aU as y,r as d,x,y as b,z as w,A as t,f as a,B as v,Q as u}from"./index.229b9759.js";import{Q as V}from"./QForm.76a3e43c.js";import"./use-key-composition.77acaa22.js";const Q={id:"sm",class:"row q-pa-xs justify-center text-center reverse-md"},q={id:"login",class:"text-center col-xs-12 col-md-6 q-mb-xl","data-aos":"fade-left"},B=t("h5",null,"\u767B\u5165",-1),S={class:"col-xs-12 col-md-6 q-mb-xl","data-aos":"fade-right"},U=t("h4",null,"\u8A3B\u518A\u5E33\u865F\u53EF\u4EE5?",-1),z=t("h5",null,"1.\u4EAB\u53D7\u66F4\u591A\u798F\u5229",-1),A=t("h5",null,"2.\u4E86\u89E3\u66F4\u591A\u798F\u5229",-1),E={__name:"LoginPage",setup(L){const l=g(),m=_(),s=y(),n=d(!1),e=x({account:"",password:""});s.role===1||s.isAdmin===!0?l.push("/admin"):s.isLogin===!0&&s.role===0?l.push("/user"):l.push("/login");const p=d(!1),i=async()=>{await s.login(e)},f=async()=>{e.account&&e.password!==null?(n.value=!0,await i(),n.value=!1,s.role===1||s.isAdmin===!0?(l.push("/admin"),n.value=!1):s.isLogin===!0&&s.role===0?(l.push("/user"),n.value=!1):l.push("/login")):m.notify({color:"red-5",textColor:"white",icon:"warning",message:"\u8F38\u5165\u932F\u8AA4"})};function h(){e.name="",e.account="",e.password="",e.phone="",p.value=!1}return(R,r)=>(b(),w("div",Q,[t("div",q,[B,a(V,{onSubmit:f,onReset:h,class:"q-gutter-md"},{default:v(()=>[a(c,{outlined:"",type:"text",modelValue:e.account,"onUpdate:modelValue":r[0]||(r[0]=o=>e.account=o),label:"\u5E33\u865F",hint:"\u8ACB\u8F38\u5165\u5E33\u865F","lazy-rules":"",rules:[o=>o&&o.length>=4||"\u6700\u5C114\u4F4D\u6578\u4EE5\u4E0A"]},null,8,["modelValue","rules"]),a(c,{outlined:"",type:"password",modelValue:e.password,"onUpdate:modelValue":r[1]||(r[1]=o=>e.password=o),label:"\u5BC6\u78BC",hint:"\u8ACB\u8F38\u5165\u5BC6\u78BC","lazy-rules":"",rules:[o=>o&&o.length>=4||"\u6700\u5C114\u4F4D\u6578\u4EE5\u4E0A"]},null,8,["modelValue","rules"]),t("div",null,[a(u,{onSubmit:i,label:"\u9001\u51FA",type:"submit",color:"primary",loading:n.value},null,8,["loading"]),a(u,{label:"\u91CD\u5BEB",type:"reset",color:"primary",flat:"",class:"q-ml-sm"})])]),_:1})]),t("div",S,[U,z,A,a(u,{id:"register1",label:"\u6211\u8981\u8A3B\u518A",type:"button",color:"primary",to:"/register"})])]))}};export{E as default};
