import{aR as m,aS as p,s as f,v as y,x as g,d as s,z as h,aV as b,y as c,Q as _,aW as u}from"./index.22626aa5.js";import{Q as n}from"./QInput.8dbe8e52.js";import"./use-key-composition.5444e2b3.js";const x={class:"column justify-center items-center q-mt-md"},V=c("img",{src:"https://source.boringavatars.com/beam/256/$%7Baccount.value%7D?colors=ffabab,ffdaab,ddffab,abe4ff,d9abff"},null,-1),w={class:"text-center"},U={__name:"EditPage",setup(Q){const l=m(),r=p(),t=f({name:"",account:"",phone:"",password:""}),d=async()=>{try{const{data:o}=await u.get("/users");t.name=o.result.name,t.account=o.result.account,t.phone=o.result.phone,r._id=o.result._id,l.notify({color:"green-4",textColor:"white",icon:"cloud_done",message:"\u53D6\u5F97\u6210\u529F"})}catch(o){console.log(o)}},i=async()=>{try{console.log(t),await u.patch(`/users/${r._id}`,t),await l.notify({color:"green-4",textColor:"white",icon:"cloud_done",message:"\u4FEE\u6539\u6210\u529F"})}catch(o){l.notify({color:"red-4",textColor:"white",icon:"info",message:o.message})}};return d(),(o,a)=>(y(),g("div",x,[s(b,{size:"200px",color:"secondary","text-color":"white",class:"q-mb-xl"},{default:h(()=>[V]),_:1}),c("section",w,[s(n,{outlined:"",type:"text",modelValue:t.name,"onUpdate:modelValue":a[0]||(a[0]=e=>t.name=e),label:"\u59D3\u540D","lazy-rules":"",rules:[e=>e&&e.length>=2||"\u8ACB\u8F38\u5165\u5168\u540D"]},null,8,["modelValue","rules"]),s(n,{outlined:"",type:"text",modelValue:t.account,"onUpdate:modelValue":a[1]||(a[1]=e=>t.account=e),label:"\u5E33\u865F","lazy-rules":"",rules:[e=>e&&e.length>=4||"\u6700\u5C114\u4F4D\u6578\u4EE5\u4E0A"]},null,8,["modelValue","rules"]),s(n,{outlined:"",type:"tel",modelValue:t.phone,"onUpdate:modelValue":a[2]||(a[2]=e=>t.phone=e),label:"\u624B\u6A5F","lazy-rules":"",rules:[e=>e&&e.length>9||"\u8ACB\u8F38\u5165\u6B63\u78BA\u624B\u6A5F\u865F\u78BC"]},null,8,["modelValue","rules"]),s(_,{label:"\u5132\u5B58",onClick:i,color:"primary"})])]))}};export{U as default};
