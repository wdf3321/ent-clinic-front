import{u as rt,a as Lt,b as Rt,c as Dt,r as pt,d as kl,e as $t,f as ql,g as Vl,h as Et,i as pl}from"./use-key-composition.4fb6c708.js";import{a3 as El,r as z,c as y,w as U,Y as ce,ae as Al,J as Ml,O as _l,N as Bl,m as _e,af as nt,h as q,g as Be,j as ze,u as Wt,U as zl,l as Kt,V as Tl,n as Ol,ag as Fl,M as Ke,ah as Hl,a9 as de,k as st,ai as ct,aj as Pe,a6 as At,aa as Pl,o as Il,ab as Ll,S as ot,ak as Ne,a as Rl,_ as Dl,al as $l,am as Wl,an as Kl,a1 as dt,ao as Nl,ap as Nt,aq as jt,ar as Qt,as as Ut,at as Xt,a8 as jl,R as Ql,G as it,au as Yt,av as Ul,aw as Xl,ax as Yl,ay as Gl,az as Fe,aA as Mt,aB as pe,aC as Jl,aD as Zl,aE as en,q as tn}from"./index.6832796b.js";const ue=1e3,ln=["start","center","end","start-force","center-force","end-force"],Gt=Array.prototype.filter,nn=window.getComputedStyle(document.body).overflowAnchor===void 0?El:function(e,l){e!==null&&(e._qOverflowAnimationFrame!==void 0&&cancelAnimationFrame(e._qOverflowAnimationFrame),e._qOverflowAnimationFrame=requestAnimationFrame(()=>{if(e===null)return;e._qOverflowAnimationFrame=void 0;const n=e.children||[];Gt.call(n,u=>u.dataset&&u.dataset.qVsAnchor!==void 0).forEach(u=>{delete u.dataset.qVsAnchor});const o=n[l];o&&o.dataset&&(o.dataset.qVsAnchor="")}))};function Ee(e,l){return e+l}function tt(e,l,n,o,u,i,a,m){const h=e===window?document.scrollingElement||document.documentElement:e,b=u===!0?"offsetWidth":"offsetHeight",r={scrollStart:0,scrollViewSize:-a-m,scrollMaxSize:0,offsetStart:-a,offsetEnd:-m};if(u===!0?(e===window?(r.scrollStart=window.pageXOffset||window.scrollX||document.body.scrollLeft||0,r.scrollViewSize+=document.documentElement.clientWidth):(r.scrollStart=h.scrollLeft,r.scrollViewSize+=h.clientWidth),r.scrollMaxSize=h.scrollWidth,i===!0&&(r.scrollStart=(nt===!0?r.scrollMaxSize-r.scrollViewSize:0)-r.scrollStart)):(e===window?(r.scrollStart=window.pageYOffset||window.scrollY||document.body.scrollTop||0,r.scrollViewSize+=document.documentElement.clientHeight):(r.scrollStart=h.scrollTop,r.scrollViewSize+=h.clientHeight),r.scrollMaxSize=h.scrollHeight),n!==null)for(let x=n.previousElementSibling;x!==null;x=x.previousElementSibling)x.classList.contains("q-virtual-scroll--skip")===!1&&(r.offsetStart+=x[b]);if(o!==null)for(let x=o.nextElementSibling;x!==null;x=x.nextElementSibling)x.classList.contains("q-virtual-scroll--skip")===!1&&(r.offsetEnd+=x[b]);if(l!==e){const x=h.getBoundingClientRect(),V=l.getBoundingClientRect();u===!0?(r.offsetStart+=V.left-x.left,r.offsetEnd-=V.width):(r.offsetStart+=V.top-x.top,r.offsetEnd-=V.height),e!==window&&(r.offsetStart+=r.scrollStart),r.offsetEnd+=r.scrollMaxSize-r.offsetStart}return r}function _t(e,l,n,o){l==="end"&&(l=(e===window?document.body:e)[n===!0?"scrollWidth":"scrollHeight"]),e===window?n===!0?(o===!0&&(l=(nt===!0?document.body.scrollWidth-document.documentElement.clientWidth:0)-l),window.scrollTo(l,window.pageYOffset||window.scrollY||document.body.scrollTop||0)):window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,l):n===!0?(o===!0&&(l=(nt===!0?e.scrollWidth-e.offsetWidth:0)-l),e.scrollLeft=l):e.scrollTop=l}function He(e,l,n,o){if(n>=o)return 0;const u=l.length,i=Math.floor(n/ue),a=Math.floor((o-1)/ue)+1;let m=e.slice(i,a).reduce(Ee,0);return n%ue!==0&&(m-=l.slice(i*ue,n).reduce(Ee,0)),o%ue!==0&&o!==u&&(m-=l.slice(o,a*ue).reduce(Ee,0)),m}const Jt={virtualScrollSliceSize:{type:[Number,String],default:null},virtualScrollSliceRatioBefore:{type:[Number,String],default:1},virtualScrollSliceRatioAfter:{type:[Number,String],default:1},virtualScrollItemSize:{type:[Number,String],default:24},virtualScrollStickySizeStart:{type:[Number,String],default:0},virtualScrollStickySizeEnd:{type:[Number,String],default:0},tableColspan:[Number,String]},Bn=Object.keys(Jt),on={virtualScrollHorizontal:Boolean,onVirtualScroll:Function,...Jt};function un({virtualScrollLength:e,getVirtualScrollTarget:l,getVirtualScrollEl:n,virtualScrollItemSizeComputed:o}){const u=Be(),{props:i,emit:a,proxy:m}=u,{$q:h}=m;let b,r,x,V=[],s;const M=z(0),H=z(0),E=z({}),R=z(null),D=z(null),K=z(null),O=z({from:0,to:0}),F=y(()=>i.tableColspan!==void 0?i.tableColspan:100);o===void 0&&(o=y(()=>i.virtualScrollItemSize));const X=y(()=>o.value+";"+i.virtualScrollHorizontal),N=y(()=>X.value+";"+i.virtualScrollSliceRatioBefore+";"+i.virtualScrollSliceRatioAfter);U(N,()=>{ee()}),U(X,Y);function Y(){ie(r,!0)}function ae(f){ie(f===void 0?r:f)}function Z(f,w){const C=l();if(C==null||C.nodeType===8)return;const _=tt(C,n(),R.value,D.value,i.virtualScrollHorizontal,h.lang.rtl,i.virtualScrollStickySizeStart,i.virtualScrollStickySizeEnd);x!==_.scrollViewSize&&ee(_.scrollViewSize),G(C,_,Math.min(e.value-1,Math.max(0,parseInt(f,10)||0)),0,ln.indexOf(w)>-1?w:r>-1&&f>r?"end":"start")}function $(){const f=l();if(f==null||f.nodeType===8)return;const w=tt(f,n(),R.value,D.value,i.virtualScrollHorizontal,h.lang.rtl,i.virtualScrollStickySizeStart,i.virtualScrollStickySizeEnd),C=e.value-1,_=w.scrollMaxSize-w.offsetStart-w.offsetEnd-H.value;if(b===w.scrollStart)return;if(w.scrollMaxSize<=0){G(f,w,0,0);return}x!==w.scrollViewSize&&ee(w.scrollViewSize),oe(O.value.from);const P=Math.floor(w.scrollMaxSize-Math.max(w.scrollViewSize,w.offsetEnd)-Math.min(s[C],w.scrollViewSize/2));if(P>0&&Math.ceil(w.scrollStart)>=P){G(f,w,C,w.scrollMaxSize-w.offsetEnd-V.reduce(Ee,0));return}let p=0,d=w.scrollStart-w.offsetStart,A=d;if(d<=_&&d+w.scrollViewSize>=M.value)d-=M.value,p=O.value.from,A=d;else for(let c=0;d>=V[c]&&p<C;c++)d-=V[c],p+=ue;for(;d>0&&p<C;)d-=s[p],d>-w.scrollViewSize?(p++,A=d):A=s[p]+d;G(f,w,p,A)}function G(f,w,C,_,P){const p=typeof P=="string"&&P.indexOf("-force")>-1,d=p===!0?P.replace("-force",""):P,A=d!==void 0?d:"start";let c=Math.max(0,C-E.value[A]),I=c+E.value.total;I>e.value&&(I=e.value,c=Math.max(0,I-E.value.total)),b=w.scrollStart;const ne=c!==O.value.from||I!==O.value.to;if(ne===!1&&d===void 0){le(C);return}const{activeElement:fe}=document,se=K.value;ne===!0&&se!==null&&se!==fe&&se.contains(fe)===!0&&(se.addEventListener("focusout",re),setTimeout(()=>{se!==null&&se.removeEventListener("focusout",re)})),nn(se,C-c);const Ie=d!==void 0?s.slice(c,C).reduce(Ee,0):0;if(ne===!0){const ve=I>=O.value.from&&c<=O.value.to?O.value.to:I;O.value={from:c,to:ve},M.value=He(V,s,0,c),H.value=He(V,s,I,e.value),requestAnimationFrame(()=>{O.value.to!==I&&b===w.scrollStart&&(O.value={from:O.value.from,to:I},H.value=He(V,s,I,e.value))})}requestAnimationFrame(()=>{if(b!==w.scrollStart)return;ne===!0&&oe(c);const ve=s.slice(c,C).reduce(Ee,0),ye=ve+w.offsetStart+M.value,Le=ye+s[C];let Te=ye+_;if(d!==void 0){const Xe=ve-Ie,Q=w.scrollStart+Xe;Te=p!==!0&&Q<ye&&Le<Q+w.scrollViewSize?Q:d==="end"?Le-w.scrollViewSize:ye-(d==="start"?0:Math.round((w.scrollViewSize-s[C])/2))}b=Te,_t(f,Te,i.virtualScrollHorizontal,h.lang.rtl),le(C)})}function oe(f){const w=K.value;if(w){const C=Gt.call(w.children,c=>c.classList&&c.classList.contains("q-virtual-scroll--skip")===!1),_=C.length,P=i.virtualScrollHorizontal===!0?c=>c.getBoundingClientRect().width:c=>c.offsetHeight;let p=f,d,A;for(let c=0;c<_;){for(d=P(C[c]),c++;c<_&&C[c].classList.contains("q-virtual-scroll--with-prev")===!0;)d+=P(C[c]),c++;A=d-s[p],A!==0&&(s[p]+=A,V[Math.floor(p/ue)]+=A),p++}}}function re(){K.value!==null&&K.value!==void 0&&K.value.focus()}function ie(f,w){const C=1*o.value;(w===!0||Array.isArray(s)===!1)&&(s=[]);const _=s.length;s.length=e.value;for(let p=e.value-1;p>=_;p--)s[p]=C;const P=Math.floor((e.value-1)/ue);V=[];for(let p=0;p<=P;p++){let d=0;const A=Math.min((p+1)*ue,e.value);for(let c=p*ue;c<A;c++)d+=s[c];V.push(d)}r=-1,b=void 0,M.value=He(V,s,0,O.value.from),H.value=He(V,s,O.value.to,e.value),f>=0?(oe(O.value.from),ce(()=>{Z(f)})):j()}function ee(f){if(f===void 0&&typeof window!="undefined"){const d=l();d!=null&&d.nodeType!==8&&(f=tt(d,n(),R.value,D.value,i.virtualScrollHorizontal,h.lang.rtl,i.virtualScrollStickySizeStart,i.virtualScrollStickySizeEnd).scrollViewSize)}x=f;const w=parseFloat(i.virtualScrollSliceRatioBefore)||0,C=parseFloat(i.virtualScrollSliceRatioAfter)||0,_=1+w+C,P=f===void 0||f<=0?1:Math.ceil(f/o.value),p=Math.max(1,P,Math.ceil((i.virtualScrollSliceSize>0?i.virtualScrollSliceSize:10)/_));E.value={total:Math.ceil(p*_),start:Math.ceil(p*w),center:Math.ceil(p*(.5+w)),end:Math.ceil(p*(1+w)),view:P}}function te(f,w){const C=i.virtualScrollHorizontal===!0?"width":"height",_={["--q-virtual-scroll-item-"+C]:o.value+"px"};return[f==="tbody"?q(f,{class:"q-virtual-scroll__padding",key:"before",ref:R},[q("tr",[q("td",{style:{[C]:`${M.value}px`,..._},colspan:F.value})])]):q(f,{class:"q-virtual-scroll__padding",key:"before",ref:R,style:{[C]:`${M.value}px`,..._}}),q(f,{class:"q-virtual-scroll__content",key:"content",ref:K,tabindex:-1},w.flat()),f==="tbody"?q(f,{class:"q-virtual-scroll__padding",key:"after",ref:D},[q("tr",[q("td",{style:{[C]:`${H.value}px`,..._},colspan:F.value})])]):q(f,{class:"q-virtual-scroll__padding",key:"after",ref:D,style:{[C]:`${H.value}px`,..._}})]}function le(f){r!==f&&(i.onVirtualScroll!==void 0&&a("virtualScroll",{index:f,from:O.value.from,to:O.value.to-1,direction:f<r?"decrease":"increase",ref:m}),r=f)}ee();const j=Al($,h.platform.is.ios===!0?120:35);Ml(()=>{ee()});let S=!1;return _l(()=>{S=!0}),Bl(()=>{if(S!==!0)return;const f=l();b!==void 0&&f!==void 0&&f!==null&&f.nodeType!==8?_t(f,b,i.virtualScrollHorizontal,h.lang.rtl):Z(r)}),_e(()=>{j.cancel()}),Object.assign(m,{scrollTo:Z,reset:Y,refresh:ae}),{virtualScrollSliceRange:O,virtualScrollSliceSizeComputed:E,setVirtualScrollSize:ee,onVirtualScrollEvt:j,localResetVirtualScroll:ie,padVirtualScroll:te,scrollTo:Z,reset:Y,refresh:ae}}var an=ze({name:"QField",inheritAttrs:!1,props:rt,emits:Lt,setup(){return Rt(Dt())}});const rn={xs:8,sm:10,md:14,lg:20,xl:24};var sn=ze({name:"QChip",props:{...Wt,...zl,dense:Boolean,icon:String,iconRight:String,iconRemove:String,iconSelected:String,label:[String,Number],color:String,textColor:String,modelValue:{type:Boolean,default:!0},selected:{type:Boolean,default:null},square:Boolean,outline:Boolean,clickable:Boolean,removable:Boolean,removeAriaLabel:String,tabindex:[String,Number],disable:Boolean,ripple:{type:[Boolean,Object],default:!0}},emits:["update:modelValue","update:selected","remove","click"],setup(e,{slots:l,emit:n}){const{proxy:{$q:o}}=Be(),u=Kt(e,o),i=Tl(e,rn),a=y(()=>e.selected===!0||e.icon!==void 0),m=y(()=>e.selected===!0?e.iconSelected||o.iconSet.chip.selected:e.icon),h=y(()=>e.iconRemove||o.iconSet.chip.remove),b=y(()=>e.disable===!1&&(e.clickable===!0||e.selected!==null)),r=y(()=>{const E=e.outline===!0&&e.color||e.textColor;return"q-chip row inline no-wrap items-center"+(e.outline===!1&&e.color!==void 0?` bg-${e.color}`:"")+(E?` text-${E} q-chip--colored`:"")+(e.disable===!0?" disabled":"")+(e.dense===!0?" q-chip--dense":"")+(e.outline===!0?" q-chip--outline":"")+(e.selected===!0?" q-chip--selected":"")+(b.value===!0?" q-chip--clickable cursor-pointer non-selectable q-hoverable":"")+(e.square===!0?" q-chip--square":"")+(u.value===!0?" q-chip--dark q-dark":"")}),x=y(()=>{const E=e.disable===!0?{tabindex:-1,"aria-disabled":"true"}:{tabindex:e.tabindex||0},R={...E,role:"button","aria-hidden":"false","aria-label":e.removeAriaLabel||o.lang.label.remove};return{chip:E,remove:R}});function V(E){E.keyCode===13&&s(E)}function s(E){e.disable||(n("update:selected",!e.selected),n("click",E))}function M(E){(E.keyCode===void 0||E.keyCode===13)&&(de(E),e.disable===!1&&(n("update:modelValue",!1),n("remove")))}function H(){const E=[];b.value===!0&&E.push(q("div",{class:"q-focus-helper"})),a.value===!0&&E.push(q(Ke,{class:"q-chip__icon q-chip__icon--left",name:m.value}));const R=e.label!==void 0?[q("div",{class:"ellipsis"},[e.label])]:void 0;return E.push(q("div",{class:"q-chip__content col row no-wrap items-center q-anchor--skip"},Hl(l.default,R))),e.iconRight&&E.push(q(Ke,{class:"q-chip__icon q-chip__icon--right",name:e.iconRight})),e.removable===!0&&E.push(q(Ke,{class:"q-chip__icon q-chip__icon--remove cursor-pointer",name:h.value,...x.value.remove,onClick:M,onKeyup:M})),E}return()=>{if(e.modelValue===!1)return;const E={class:r.value,style:i.value};return b.value===!0&&Object.assign(E,x.value.chip,{onClick:s,onKeyup:V}),Ol("div",E,H(),"ripple",e.ripple!==!1&&e.disable!==!0,()=>[[Fl,e.ripple]])}}}),cn=ze({name:"QItemLabel",props:{overline:Boolean,caption:Boolean,header:Boolean,lines:[Number,String]},setup(e,{slots:l}){const n=y(()=>parseInt(e.lines,10)),o=y(()=>"q-item__label"+(e.overline===!0?" q-item__label--overline text-overline":"")+(e.caption===!0?" q-item__label--caption text-caption":"")+(e.header===!0?" q-item__label--header":"")+(n.value===1?" ellipsis":"")),u=y(()=>e.lines!==void 0&&n.value>1?{overflow:"hidden",display:"-webkit-box","-webkit-box-orient":"vertical","-webkit-line-clamp":n.value}:null);return()=>q("div",{style:u.value,class:o.value},st(l.default))}});const dn={target:{default:!0},noParentEvent:Boolean,contextMenu:Boolean};function fn({showing:e,avoidEmit:l,configureAnchorEl:n}){const{props:o,proxy:u,emit:i}=Be(),a=z(null);let m=null;function h(s){return a.value===null?!1:s===void 0||s.touches===void 0||s.touches.length<=1}const b={};n===void 0&&(Object.assign(b,{hide(s){u.hide(s)},toggle(s){u.toggle(s),s.qAnchorHandled=!0},toggleKey(s){ct(s,13)===!0&&b.toggle(s)},contextClick(s){u.hide(s),Pe(s),ce(()=>{u.show(s),s.qAnchorHandled=!0})},prevent:Pe,mobileTouch(s){if(b.mobileCleanup(s),h(s)!==!0)return;u.hide(s),a.value.classList.add("non-selectable");const M=s.target;At(b,"anchor",[[M,"touchmove","mobileCleanup","passive"],[M,"touchend","mobileCleanup","passive"],[M,"touchcancel","mobileCleanup","passive"],[a.value,"contextmenu","prevent","notPassive"]]),m=setTimeout(()=>{m=null,u.show(s),s.qAnchorHandled=!0},300)},mobileCleanup(s){a.value.classList.remove("non-selectable"),m!==null&&(clearTimeout(m),m=null),e.value===!0&&s!==void 0&&Pl()}}),n=function(s=o.contextMenu){if(o.noParentEvent===!0||a.value===null)return;let M;s===!0?u.$q.platform.is.mobile===!0?M=[[a.value,"touchstart","mobileTouch","passive"]]:M=[[a.value,"mousedown","hide","passive"],[a.value,"contextmenu","contextClick","notPassive"]]:M=[[a.value,"click","toggle","passive"],[a.value,"keyup","toggleKey","passive"]],At(b,"anchor",M)});function r(){Ll(b,"anchor")}function x(s){for(a.value=s;a.value.classList.contains("q-anchor--skip");)a.value=a.value.parentNode;n()}function V(){if(o.target===!1||o.target===""||u.$el.parentNode===null)a.value=null;else if(o.target===!0)x(u.$el.parentNode);else{let s=o.target;if(typeof o.target=="string")try{s=document.querySelector(o.target)}catch{s=void 0}s!=null?(a.value=s.$el||s,n()):(a.value=null,console.error(`Anchor: target "${o.target}" not found`))}}return U(()=>o.contextMenu,s=>{a.value!==null&&(r(),n(s))}),U(()=>o.target,()=>{a.value!==null&&r(),V()}),U(()=>o.noParentEvent,s=>{a.value!==null&&(s===!0?r():n())}),Il(()=>{V(),l!==!0&&o.modelValue===!0&&a.value===null&&i("update:modelValue",!1)}),_e(()=>{m!==null&&clearTimeout(m),r()}),{anchorEl:a,canShow:h,anchorEvents:b}}function vn(e,l){const n=z(null);let o;function u(m,h){const b=`${h!==void 0?"add":"remove"}EventListener`,r=h!==void 0?h:o;m!==window&&m[b]("scroll",r,ot.passive),window[b]("scroll",r,ot.passive),o=h}function i(){n.value!==null&&(u(n.value),n.value=null)}const a=U(()=>e.noParentEvent,()=>{n.value!==null&&(i(),l())});return _e(a),{localScrollTarget:n,unconfigureScrollTarget:i,changeScrollEvent:u}}const Ae=[];function zn(e){return Ae.find(l=>l.contentEl!==null&&l.contentEl.contains(e))}function Zt(e,l){do{if(e.$options.name==="QMenu"){if(e.hide(l),e.$props.separateClosePopup===!0)return Ne(e)}else if(e.__qPortal===!0){const n=Ne(e);return n!==void 0&&n.$options.name==="QPopupProxy"?(e.hide(l),n):e}e=Ne(e)}while(e!=null)}function Tn(e,l,n){for(;n!==0&&e!==void 0&&e!==null;){if(e.__qPortal===!0){if(n--,e.$options.name==="QMenu"){e=Zt(e,l);continue}e.hide(l)}e=Ne(e)}}function mn(e){for(e=e.parent;e!=null;){if(e.type.name==="QGlobalDialog")return!0;if(e.type.name==="QDialog"||e.type.name==="QMenu")return!1;e=e.parent}return!1}function el(e,l,n,o){const u=z(!1),i=z(!1);let a=null;const m={},h=o==="dialog"&&mn(e);function b(x){if(x===!0){pt(m),i.value=!0;return}i.value=!1,u.value===!1&&(h===!1&&a===null&&(a=Wl(!1,o)),u.value=!0,Ae.push(e.proxy),kl(m))}function r(x){if(i.value=!1,x!==!0)return;pt(m),u.value=!1;const V=Ae.indexOf(e.proxy);V!==-1&&Ae.splice(V,1),a!==null&&(Kl(a),a=null)}return Rl(()=>{r(!0)}),e.proxy.__qPortal=!0,Dl(e.proxy,"contentEl",()=>l.value),{showPortal:b,hidePortal:r,portalIsActive:u,portalIsAccessible:i,renderPortal:()=>h===!0?n():u.value===!0?[q($l,{to:a},n())]:void 0}}const tl={transitionShow:{type:String,default:"fade"},transitionHide:{type:String,default:"fade"},transitionDuration:{type:[String,Number],default:300}};function ll(e,l=()=>{},n=()=>{}){return{transitionProps:y(()=>{const o=`q-transition--${e.transitionShow||l()}`,u=`q-transition--${e.transitionHide||n()}`;return{appear:!0,enterFromClass:`${o}-enter-from`,enterActiveClass:`${o}-enter-active`,enterToClass:`${o}-enter-to`,leaveFromClass:`${u}-leave-from`,leaveActiveClass:`${u}-leave-active`,leaveToClass:`${u}-leave-to`}}),transitionStyle:y(()=>`--q-transition-duration: ${e.transitionDuration}ms`)}}const ge=[];let Me;function hn(e){Me=e.keyCode===27}function gn(){Me===!0&&(Me=!1)}function Sn(e){Me===!0&&(Me=!1,ct(e,27)===!0&&ge[ge.length-1](e))}function nl(e){window[e]("keydown",hn),window[e]("blur",gn),window[e]("keyup",Sn),Me=!1}function ol(e){dt.is.desktop===!0&&(ge.push(e),ge.length===1&&nl("addEventListener"))}function je(e){const l=ge.indexOf(e);l>-1&&(ge.splice(l,1),ge.length===0&&nl("removeEventListener"))}const Se=[];function il(e){Se[Se.length-1](e)}function ul(e){dt.is.desktop===!0&&(Se.push(e),Se.length===1&&document.body.addEventListener("focusin",il))}function ut(e){const l=Se.indexOf(e);l>-1&&(Se.splice(l,1),Se.length===0&&document.body.removeEventListener("focusin",il))}const{notPassiveCapture:Qe}=ot,be=[];function Ue(e){const l=e.target;if(l===void 0||l.nodeType===8||l.classList.contains("no-pointer-events")===!0)return;let n=Ae.length-1;for(;n>=0;){const o=Ae[n].$;if(o.type.name!=="QDialog")break;if(o.props.seamless!==!0)return;n--}for(let o=be.length-1;o>=0;o--){const u=be[o];if((u.anchorEl.value===null||u.anchorEl.value.contains(l)===!1)&&(l===document.body||u.innerRef.value!==null&&u.innerRef.value.contains(l)===!1))e.qClickOutside=!0,u.onClickOutside(e);else return}}function bn(e){be.push(e),be.length===1&&(document.addEventListener("mousedown",Ue,Qe),document.addEventListener("touchstart",Ue,Qe))}function Bt(e){const l=be.findIndex(n=>n===e);l>-1&&(be.splice(l,1),be.length===0&&(document.removeEventListener("mousedown",Ue,Qe),document.removeEventListener("touchstart",Ue,Qe)))}let zt,Tt;function Ot(e){const l=e.split(" ");return l.length!==2?!1:["top","center","bottom"].includes(l[0])!==!0?(console.error("Anchor/Self position must start with one of top/center/bottom"),!1):["left","middle","right","start","end"].includes(l[1])!==!0?(console.error("Anchor/Self position must end with one of left/middle/right/start/end"),!1):!0}function yn(e){return e?!(e.length!==2||typeof e[0]!="number"||typeof e[1]!="number"):!0}const at={"start#ltr":"left","start#rtl":"right","end#ltr":"right","end#rtl":"left"};["left","middle","right"].forEach(e=>{at[`${e}#ltr`]=e,at[`${e}#rtl`]=e});function Ft(e,l){const n=e.split(" ");return{vertical:n[0],horizontal:at[`${n[1]}#${l===!0?"rtl":"ltr"}`]}}function wn(e,l){let{top:n,left:o,right:u,bottom:i,width:a,height:m}=e.getBoundingClientRect();return l!==void 0&&(n-=l[1],o-=l[0],i+=l[1],u+=l[0],a+=l[0],m+=l[1]),{top:n,bottom:i,height:m,left:o,right:u,width:a,middle:o+(u-o)/2,center:n+(i-n)/2}}function xn(e,l,n){let{top:o,left:u}=e.getBoundingClientRect();return o+=l.top,u+=l.left,n!==void 0&&(o+=n[1],u+=n[0]),{top:o,bottom:o+1,height:1,left:u,right:u+1,width:1,middle:u,center:o}}function Cn(e){return{top:0,center:e.offsetHeight/2,bottom:e.offsetHeight,left:0,middle:e.offsetWidth/2,right:e.offsetWidth}}function Ht(e,l,n){return{top:e[n.anchorOrigin.vertical]-l[n.selfOrigin.vertical],left:e[n.anchorOrigin.horizontal]-l[n.selfOrigin.horizontal]}}function kn(e){if(dt.is.ios===!0&&window.visualViewport!==void 0){const m=document.body.style,{offsetLeft:h,offsetTop:b}=window.visualViewport;h!==zt&&(m.setProperty("--q-pe-left",h+"px"),zt=h),b!==Tt&&(m.setProperty("--q-pe-top",b+"px"),Tt=b)}const{scrollLeft:l,scrollTop:n}=e.el,o=e.absoluteOffset===void 0?wn(e.anchorEl,e.cover===!0?[0,0]:e.offset):xn(e.anchorEl,e.absoluteOffset,e.offset);let u={maxHeight:e.maxHeight,maxWidth:e.maxWidth,visibility:"visible"};(e.fit===!0||e.cover===!0)&&(u.minWidth=o.width+"px",e.cover===!0&&(u.minHeight=o.height+"px")),Object.assign(e.el.style,u);const i=Cn(e.el);let a=Ht(o,i,e);if(e.absoluteOffset===void 0||e.offset===void 0)lt(a,o,i,e.anchorOrigin,e.selfOrigin);else{const{top:m,left:h}=a;lt(a,o,i,e.anchorOrigin,e.selfOrigin);let b=!1;if(a.top!==m){b=!0;const r=2*e.offset[1];o.center=o.top-=r,o.bottom-=r+2}if(a.left!==h){b=!0;const r=2*e.offset[0];o.middle=o.left-=r,o.right-=r+2}b===!0&&(a=Ht(o,i,e),lt(a,o,i,e.anchorOrigin,e.selfOrigin))}u={top:a.top+"px",left:a.left+"px"},a.maxHeight!==void 0&&(u.maxHeight=a.maxHeight+"px",o.height>a.maxHeight&&(u.minHeight=u.maxHeight)),a.maxWidth!==void 0&&(u.maxWidth=a.maxWidth+"px",o.width>a.maxWidth&&(u.minWidth=u.maxWidth)),Object.assign(e.el.style,u),e.el.scrollTop!==n&&(e.el.scrollTop=n),e.el.scrollLeft!==l&&(e.el.scrollLeft=l)}function lt(e,l,n,o,u){const i=n.bottom,a=n.right,m=Nl(),h=window.innerHeight-m,b=document.body.clientWidth;if(e.top<0||e.top+i>h)if(u.vertical==="center")e.top=l[o.vertical]>h/2?Math.max(0,h-i):0,e.maxHeight=Math.min(i,h);else if(l[o.vertical]>h/2){const r=Math.min(h,o.vertical==="center"?l.center:o.vertical===u.vertical?l.bottom:l.top);e.maxHeight=Math.min(i,r),e.top=Math.max(0,r-i)}else e.top=Math.max(0,o.vertical==="center"?l.center:o.vertical===u.vertical?l.top:l.bottom),e.maxHeight=Math.min(i,h-e.top);if(e.left<0||e.left+a>b)if(e.maxWidth=Math.min(a,b),u.horizontal==="middle")e.left=l[o.horizontal]>b/2?Math.max(0,b-a):0;else if(l[o.horizontal]>b/2){const r=Math.min(b,o.horizontal==="middle"?l.middle:o.horizontal===u.horizontal?l.right:l.left);e.maxWidth=Math.min(a,r),e.left=Math.max(0,r-e.maxWidth)}else e.left=Math.max(0,o.horizontal==="middle"?l.middle:o.horizontal===u.horizontal?l.left:l.right),e.maxWidth=Math.min(a,b-e.left)}var qn=ze({name:"QMenu",inheritAttrs:!1,props:{...dn,...Nt,...Wt,...tl,persistent:Boolean,autoClose:Boolean,separateClosePopup:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,fit:Boolean,cover:Boolean,square:Boolean,anchor:{type:String,validator:Ot},self:{type:String,validator:Ot},offset:{type:Array,validator:yn},scrollTarget:{default:void 0},touchPosition:Boolean,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null}},emits:[...jt,"click","escapeKey"],setup(e,{slots:l,emit:n,attrs:o}){let u=null,i,a,m;const h=Be(),{proxy:b}=h,{$q:r}=b,x=z(null),V=z(!1),s=y(()=>e.persistent!==!0&&e.noRouteDismiss!==!0),M=Kt(e,r),{registerTick:H,removeTick:E}=Qt(),{registerTimeout:R}=Ut(),{transitionProps:D,transitionStyle:K}=ll(e),{localScrollTarget:O,changeScrollEvent:F,unconfigureScrollTarget:X}=vn(e,C),{anchorEl:N,canShow:Y}=fn({showing:V}),{hide:ae}=Xt({showing:V,canShow:Y,handleShow:S,handleHide:f,hideOnRouteChange:s,processOnMount:!0}),{showPortal:Z,hidePortal:$,renderPortal:G}=el(h,x,A,"menu"),oe={anchorEl:N,innerRef:x,onClickOutside(c){if(e.persistent!==!0&&V.value===!0)return ae(c),(c.type==="touchstart"||c.target.classList.contains("q-dialog__backdrop"))&&de(c),!0}},re=y(()=>Ft(e.anchor||(e.cover===!0?"center middle":"bottom start"),r.lang.rtl)),ie=y(()=>e.cover===!0?re.value:Ft(e.self||"top start",r.lang.rtl)),ee=y(()=>(e.square===!0?" q-menu--square":"")+(M.value===!0?" q-menu--dark q-dark":"")),te=y(()=>e.autoClose===!0?{onClick:_}:{}),le=y(()=>V.value===!0&&e.persistent!==!0);U(le,c=>{c===!0?(ol(p),bn(oe)):(je(p),Bt(oe))});function j(){$t(()=>{let c=x.value;c&&c.contains(document.activeElement)!==!0&&(c=c.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||c.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||c.querySelector("[autofocus], [data-autofocus]")||c,c.focus({preventScroll:!0}))})}function S(c){if(u=e.noRefocus===!1?document.activeElement:null,ul(P),Z(),C(),i=void 0,c!==void 0&&(e.touchPosition||e.contextMenu)){const I=jl(c);if(I.left!==void 0){const{top:ne,left:fe}=N.value.getBoundingClientRect();i={left:I.left-fe,top:I.top-ne}}}a===void 0&&(a=U(()=>r.screen.width+"|"+r.screen.height+"|"+e.self+"|"+e.anchor+"|"+r.lang.rtl,d)),e.noFocus!==!0&&document.activeElement.blur(),H(()=>{d(),e.noFocus!==!0&&j()}),R(()=>{r.platform.is.ios===!0&&(m=e.autoClose,x.value.click()),d(),Z(!0),n("show",c)},e.transitionDuration)}function f(c){E(),$(),w(!0),u!==null&&(c===void 0||c.qClickOutside!==!0)&&(((c&&c.type.indexOf("key")===0?u.closest('[tabindex]:not([tabindex^="-"])'):void 0)||u).focus(),u=null),R(()=>{$(!0),n("hide",c)},e.transitionDuration)}function w(c){i=void 0,a!==void 0&&(a(),a=void 0),(c===!0||V.value===!0)&&(ut(P),X(),Bt(oe),je(p)),c!==!0&&(u=null)}function C(){(N.value!==null||e.scrollTarget!==void 0)&&(O.value=Ql(N.value,e.scrollTarget),F(O.value,d))}function _(c){m!==!0?(Zt(b,c),n("click",c)):m=!1}function P(c){le.value===!0&&e.noFocus!==!0&&Yt(x.value,c.target)!==!0&&j()}function p(c){n("escapeKey"),ae(c)}function d(){const c=x.value;c===null||N.value===null||kn({el:c,offset:e.offset,anchorEl:N.value,anchorOrigin:re.value,selfOrigin:ie.value,absoluteOffset:i,fit:e.fit,cover:e.cover,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function A(){return q(it,D.value,()=>V.value===!0?q("div",{role:"menu",...o,ref:x,tabindex:-1,class:["q-menu q-position-engine scroll"+ee.value,o.class],style:[o.style,K.value],...te.value},st(l.default)):null)}return _e(w),Object.assign(b,{focus:j,updatePosition:d}),G}});let We=0;const Vn={standard:"fixed-full flex-center",top:"fixed-top justify-center",bottom:"fixed-bottom justify-center",right:"fixed-right items-center",left:"fixed-left items-center"},Pt={standard:["scale","scale"],top:["slide-down","slide-up"],bottom:["slide-up","slide-down"],right:["slide-left","slide-right"],left:["slide-right","slide-left"]};var pn=ze({name:"QDialog",inheritAttrs:!1,props:{...Nt,...tl,transitionShow:String,transitionHide:String,persistent:Boolean,autoClose:Boolean,allowFocusOutside:Boolean,noEscDismiss:Boolean,noBackdropDismiss:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,noShake:Boolean,seamless:Boolean,maximized:Boolean,fullWidth:Boolean,fullHeight:Boolean,square:Boolean,position:{type:String,default:"standard",validator:e=>e==="standard"||["top","bottom","left","right"].includes(e)}},emits:[...jt,"shake","click","escapeKey"],setup(e,{slots:l,emit:n,attrs:o}){const u=Be(),{proxy:{$q:i}}=u,a=z(null),m=z(!1),h=z(!1);let b=null,r=null,x,V;const s=y(()=>e.persistent!==!0&&e.noRouteDismiss!==!0&&e.seamless!==!0),{preventBodyScroll:M}=Xl(),{registerTimeout:H}=Ut(),{registerTick:E,removeTick:R}=Qt(),{transitionProps:D,transitionStyle:K}=ll(e,()=>Pt[e.position][0],()=>Pt[e.position][1]),{showPortal:O,hidePortal:F,portalIsAccessible:X,renderPortal:N}=el(u,a,p,"dialog"),{hide:Y}=Xt({showing:m,hideOnRouteChange:s,handleShow:ie,handleHide:ee,processOnMount:!0}),{addToHistory:ae,removeFromHistory:Z}=Ul(m,Y,s),$=y(()=>`q-dialog__inner flex no-pointer-events q-dialog__inner--${e.maximized===!0?"maximized":"minimized"} q-dialog__inner--${e.position} ${Vn[e.position]}`+(h.value===!0?" q-dialog__inner--animating":"")+(e.fullWidth===!0?" q-dialog__inner--fullwidth":"")+(e.fullHeight===!0?" q-dialog__inner--fullheight":"")+(e.square===!0?" q-dialog__inner--square":"")),G=y(()=>m.value===!0&&e.seamless!==!0),oe=y(()=>e.autoClose===!0?{onClick:w}:{}),re=y(()=>[`q-dialog fullscreen no-pointer-events q-dialog--${G.value===!0?"modal":"seamless"}`,o.class]);U(()=>e.maximized,d=>{m.value===!0&&f(d)}),U(G,d=>{M(d),d===!0?(ul(_),ol(j)):(ut(_),je(j))});function ie(d){ae(),r=e.noRefocus===!1&&document.activeElement!==null?document.activeElement:null,f(e.maximized),O(),h.value=!0,e.noFocus!==!0?(document.activeElement!==null&&document.activeElement.blur(),E(te)):R(),H(()=>{if(u.proxy.$q.platform.is.ios===!0){if(e.seamless!==!0&&document.activeElement){const{top:A,bottom:c}=document.activeElement.getBoundingClientRect(),{innerHeight:I}=window,ne=window.visualViewport!==void 0?window.visualViewport.height:I;A>0&&c>ne/2&&(document.scrollingElement.scrollTop=Math.min(document.scrollingElement.scrollHeight-ne,c>=I?1/0:Math.ceil(document.scrollingElement.scrollTop+c-ne/2))),document.activeElement.scrollIntoView()}V=!0,a.value.click(),V=!1}O(!0),h.value=!1,n("show",d)},e.transitionDuration)}function ee(d){R(),Z(),S(!0),h.value=!0,F(),r!==null&&(((d&&d.type.indexOf("key")===0?r.closest('[tabindex]:not([tabindex^="-"])'):void 0)||r).focus(),r=null),H(()=>{F(!0),h.value=!1,n("hide",d)},e.transitionDuration)}function te(d){$t(()=>{let A=a.value;A===null||A.contains(document.activeElement)===!0||(A=(d!==""?A.querySelector(d):null)||A.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||A.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||A.querySelector("[autofocus], [data-autofocus]")||A,A.focus({preventScroll:!0}))})}function le(d){d&&typeof d.focus=="function"?d.focus({preventScroll:!0}):te(),n("shake");const A=a.value;A!==null&&(A.classList.remove("q-animate--scale"),A.classList.add("q-animate--scale"),b!==null&&clearTimeout(b),b=setTimeout(()=>{b=null,a.value!==null&&(A.classList.remove("q-animate--scale"),te())},170))}function j(){e.seamless!==!0&&(e.persistent===!0||e.noEscDismiss===!0?e.maximized!==!0&&e.noShake!==!0&&le():(n("escapeKey"),Y()))}function S(d){b!==null&&(clearTimeout(b),b=null),(d===!0||m.value===!0)&&(f(!1),e.seamless!==!0&&(M(!1),ut(_),je(j))),d!==!0&&(r=null)}function f(d){d===!0?x!==!0&&(We<1&&document.body.classList.add("q-body--dialog"),We++,x=!0):x===!0&&(We<2&&document.body.classList.remove("q-body--dialog"),We--,x=!1)}function w(d){V!==!0&&(Y(d),n("click",d))}function C(d){e.persistent!==!0&&e.noBackdropDismiss!==!0?Y(d):e.noShake!==!0&&le(d.relatedTarget)}function _(d){e.allowFocusOutside!==!0&&X.value===!0&&Yt(a.value,d.target)!==!0&&te('[tabindex]:not([tabindex="-1"])')}Object.assign(u.proxy,{focus:te,shake:le,__updateRefocusTarget(d){r=d||null}}),_e(S);const P=i.platform.is.ios===!0||i.platform.is.safari?"onClick":"onFocusin";function p(){return q("div",{role:"dialog","aria-modal":G.value===!0?"true":"false",...o,class:re.value},[q(it,{name:"q-transition--fade",appear:!0},()=>G.value===!0?q("div",{class:"q-dialog__backdrop fixed-full",style:K.value,"aria-hidden":"true",tabindex:-1,[P]:C}):null),q(it,D.value,()=>m.value===!0?q("div",{ref:a,class:$.value,style:K.value,tabindex:-1,...oe.value},st(l.default)):null)])}return N}});const It=e=>["add","add-unique","toggle"].includes(e),En=".*+?^${}()|[]\\",An=Object.keys(rt);var On=ze({name:"QSelect",inheritAttrs:!1,props:{...on,...ql,...rt,modelValue:{required:!0},multiple:Boolean,displayValue:[String,Number],displayValueHtml:Boolean,dropdownIcon:String,options:{type:Array,default:()=>[]},optionValue:[Function,String],optionLabel:[Function,String],optionDisable:[Function,String],hideSelected:Boolean,hideDropdownIcon:Boolean,fillInput:Boolean,maxValues:[Number,String],optionsDense:Boolean,optionsDark:{type:Boolean,default:null},optionsSelectedClass:String,optionsHtml:Boolean,optionsCover:Boolean,menuShrink:Boolean,menuAnchor:String,menuSelf:String,menuOffset:Array,popupContentClass:String,popupContentStyle:[String,Array,Object],useInput:Boolean,useChips:Boolean,newValueMode:{type:String,validator:It},mapOptions:Boolean,emitValue:Boolean,inputDebounce:{type:[Number,String],default:500},inputClass:[Array,String,Object],inputStyle:[Array,String,Object],tabindex:{type:[String,Number],default:0},autocomplete:String,transitionShow:String,transitionHide:String,transitionDuration:[String,Number],behavior:{type:String,validator:e=>["default","menu","dialog"].includes(e),default:"default"},virtualScrollItemSize:{type:[Number,String],default:void 0},onNewValue:Function,onFilter:Function},emits:[...Lt,"add","remove","inputValue","newValue","keyup","keypress","keydown","filterAbort"],setup(e,{slots:l,emit:n}){const{proxy:o}=Be(),{$q:u}=o,i=z(!1),a=z(!1),m=z(-1),h=z(""),b=z(!1),r=z(!1);let x=null,V,s,M,H=null,E,R,D,K;const O=z(null),F=z(null),X=z(null),N=z(null),Y=z(null),ae=Vl(e),Z=pl(xt),$=y(()=>Array.isArray(e.options)?e.options.length:0),G=y(()=>e.virtualScrollItemSize===void 0?e.optionsDense===!0?24:48:e.virtualScrollItemSize),{virtualScrollSliceRange:oe,virtualScrollSliceSizeComputed:re,localResetVirtualScroll:ie,padVirtualScroll:ee,onVirtualScrollEvt:te,scrollTo:le,setVirtualScrollSize:j}=un({virtualScrollLength:$,getVirtualScrollTarget:cl,getVirtualScrollEl:yt,virtualScrollItemSizeComputed:G}),S=Dt(),f=y(()=>{const t=e.mapOptions===!0&&e.multiple!==!0,g=e.modelValue!==void 0&&(e.modelValue!==null||t===!0)?e.multiple===!0&&Array.isArray(e.modelValue)?e.modelValue:[e.modelValue]:[];if(e.mapOptions===!0&&Array.isArray(e.options)===!0){const v=e.mapOptions===!0&&V!==void 0?V:[],k=g.map(T=>sl(T,v));return e.modelValue===null&&t===!0?k.filter(T=>T!==null):k}return g}),w=y(()=>{const t={};return An.forEach(g=>{const v=e[g];v!==void 0&&(t[g]=v)}),t}),C=y(()=>e.optionsDark===null?S.isDark.value:e.optionsDark),_=y(()=>Et(f.value)),P=y(()=>{let t="q-field__input q-placeholder col";return e.hideSelected===!0||f.value.length===0?[t,e.inputClass]:(t+=" q-field__input--padding",e.inputClass===void 0?t:[t,e.inputClass])}),p=y(()=>(e.virtualScrollHorizontal===!0?"q-virtual-scroll--horizontal":"")+(e.popupContentClass?" "+e.popupContentClass:"")),d=y(()=>$.value===0),A=y(()=>f.value.map(t=>J.value(t)).join(", ")),c=y(()=>e.displayValue!==void 0?e.displayValue:A.value),I=y(()=>e.optionsHtml===!0?()=>!0:t=>t!=null&&t.html===!0),ne=y(()=>e.displayValueHtml===!0||e.displayValue===void 0&&(e.optionsHtml===!0||f.value.some(I.value))),fe=y(()=>S.focused.value===!0?e.tabindex:-1),se=y(()=>{const t={tabindex:e.tabindex,role:"combobox","aria-label":e.label,"aria-readonly":e.readonly===!0?"true":"false","aria-autocomplete":e.useInput===!0?"list":"none","aria-expanded":i.value===!0?"true":"false","aria-controls":`${S.targetUid.value}_lb`};return m.value>=0&&(t["aria-activedescendant"]=`${S.targetUid.value}_${m.value}`),t}),Ie=y(()=>({id:`${S.targetUid.value}_lb`,role:"listbox","aria-multiselectable":e.multiple===!0?"true":"false"})),ve=y(()=>f.value.map((t,g)=>({index:g,opt:t,html:I.value(t),selected:!0,removeAtIndex:rl,toggleOption:me,tabindex:fe.value}))),ye=y(()=>{if($.value===0)return[];const{from:t,to:g}=oe.value;return e.options.slice(t,g).map((v,k)=>{const T=we.value(v)===!0,B=t+k,L={clickable:!0,active:!1,activeClass:Xe.value,manualFocus:!0,focused:!1,disable:T,tabindex:-1,dense:e.optionsDense,dark:C.value,role:"option",id:`${S.targetUid.value}_${B}`,onClick:()=>{me(v)}};return T!==!0&&(Je(v)===!0&&(L.active=!0),m.value===B&&(L.focused=!0),L["aria-selected"]=L.active===!0?"true":"false",u.platform.is.desktop===!0&&(L.onMousemove=()=>{i.value===!0&&xe(B)})),{index:B,opt:v,html:I.value(v),label:J.value(v),selected:L.active,focused:L.focused,toggleOption:me,setOptionIndex:xe,itemProps:L}})}),Le=y(()=>e.dropdownIcon!==void 0?e.dropdownIcon:u.iconSet.arrow.dropdown),Te=y(()=>e.optionsCover===!1&&e.outlined!==!0&&e.standout!==!0&&e.borderless!==!0&&e.rounded!==!0),Xe=y(()=>e.optionsSelectedClass!==void 0?e.optionsSelectedClass:e.color!==void 0?`text-${e.color}`:""),Q=y(()=>Ge(e.optionValue,"value")),J=y(()=>Ge(e.optionLabel,"label")),we=y(()=>Ge(e.optionDisable,"disable")),Re=y(()=>f.value.map(t=>Q.value(t))),al=y(()=>{const t={onInput:xt,onChange:Z,onKeydown:bt,onKeyup:gt,onKeypress:St,onFocus:mt,onClick(g){s===!0&&pe(g)}};return t.onCompositionstart=t.onCompositionupdate=t.onCompositionend=Z,t});U(f,t=>{V=t,e.useInput===!0&&e.fillInput===!0&&e.multiple!==!0&&S.innerLoading.value!==!0&&(a.value!==!0&&i.value!==!0||_.value!==!0)&&(M!==!0&&Ve(),(a.value===!0||i.value===!0)&&Ce(""))},{immediate:!0}),U(()=>e.fillInput,Ve),U(i,Ze),U($,Cl);function ft(t){return e.emitValue===!0?Q.value(t):t}function Ye(t){if(t>-1&&t<f.value.length)if(e.multiple===!0){const g=e.modelValue.slice();n("remove",{index:t,value:g.splice(t,1)[0]}),n("update:modelValue",g)}else n("update:modelValue",null)}function rl(t){Ye(t),S.focus()}function vt(t,g){const v=ft(t);if(e.multiple!==!0){e.fillInput===!0&&Oe(J.value(t),!0,!0),n("update:modelValue",v);return}if(f.value.length===0){n("add",{index:0,value:v}),n("update:modelValue",e.multiple===!0?[v]:v);return}if(g===!0&&Je(t)===!0||e.maxValues!==void 0&&e.modelValue.length>=e.maxValues)return;const k=e.modelValue.slice();n("add",{index:k.length,value:v}),k.push(v),n("update:modelValue",k)}function me(t,g){if(S.editable.value!==!0||t===void 0||we.value(t)===!0)return;const v=Q.value(t);if(e.multiple!==!0){g!==!0&&(Oe(e.fillInput===!0?J.value(t):"",!0,!0),he()),F.value!==null&&F.value.focus(),(f.value.length===0||Fe(Q.value(f.value[0]),v)!==!0)&&n("update:modelValue",e.emitValue===!0?v:t);return}if((s!==!0||b.value===!0)&&S.focus(),mt(),f.value.length===0){const B=e.emitValue===!0?v:t;n("add",{index:0,value:B}),n("update:modelValue",e.multiple===!0?[B]:B);return}const k=e.modelValue.slice(),T=Re.value.findIndex(B=>Fe(B,v));if(T>-1)n("remove",{index:T,value:k.splice(T,1)[0]});else{if(e.maxValues!==void 0&&k.length>=e.maxValues)return;const B=e.emitValue===!0?v:t;n("add",{index:k.length,value:B}),k.push(B)}n("update:modelValue",k)}function xe(t){if(u.platform.is.desktop!==!0)return;const g=t>-1&&t<$.value?t:-1;m.value!==g&&(m.value=g)}function De(t=1,g){if(i.value===!0){let v=m.value;do v=Mt(v+t,-1,$.value-1);while(v!==-1&&v!==m.value&&we.value(e.options[v])===!0);m.value!==v&&(xe(v),le(v),g!==!0&&e.useInput===!0&&e.fillInput===!0&&$e(v>=0?J.value(e.options[v]):E))}}function sl(t,g){const v=k=>Fe(Q.value(k),t);return e.options.find(v)||g.find(v)||t}function Ge(t,g){const v=t!==void 0?t:g;return typeof v=="function"?v:k=>k!==null&&typeof k=="object"&&v in k?k[v]:k}function Je(t){const g=Q.value(t);return Re.value.find(v=>Fe(v,g))!==void 0}function mt(t){e.useInput===!0&&F.value!==null&&(t===void 0||F.value===t.target&&t.target.value===A.value)&&F.value.select()}function ht(t){ct(t,27)===!0&&i.value===!0&&(pe(t),he(),Ve()),n("keyup",t)}function gt(t){const{value:g}=t.target;if(t.keyCode!==void 0){ht(t);return}if(t.target.value="",x!==null&&(clearTimeout(x),x=null),Ve(),typeof g=="string"&&g.length>0){const v=g.toLocaleLowerCase(),k=B=>{const L=e.options.find(W=>B.value(W).toLocaleLowerCase()===v);return L===void 0?!1:(f.value.indexOf(L)===-1?me(L):he(),!0)},T=B=>{k(Q)!==!0&&(k(J)===!0||B===!0||Ce(g,!0,()=>T(!0)))};T()}else S.clearValue(t)}function St(t){n("keypress",t)}function bt(t){if(n("keydown",t),Jl(t)===!0)return;const g=h.value.length>0&&(e.newValueMode!==void 0||e.onNewValue!==void 0),v=t.shiftKey!==!0&&e.multiple!==!0&&(m.value>-1||g===!0);if(t.keyCode===27){Pe(t);return}if(t.keyCode===9&&v===!1){ke();return}if(t.target===void 0||t.target.id!==S.targetUid.value)return;if(t.keyCode===40&&S.innerLoading.value!==!0&&i.value===!1){de(t),qe();return}if(t.keyCode===8&&e.hideSelected!==!0&&h.value.length===0){e.multiple===!0&&Array.isArray(e.modelValue)===!0?Ye(e.modelValue.length-1):e.multiple!==!0&&e.modelValue!==null&&n("update:modelValue",null);return}(t.keyCode===35||t.keyCode===36)&&(typeof h.value!="string"||h.value.length===0)&&(de(t),m.value=-1,De(t.keyCode===36?1:-1,e.multiple)),(t.keyCode===33||t.keyCode===34)&&re.value!==void 0&&(de(t),m.value=Math.max(-1,Math.min($.value,m.value+(t.keyCode===33?-1:1)*re.value.view)),De(t.keyCode===33?1:-1,e.multiple)),(t.keyCode===38||t.keyCode===40)&&(de(t),De(t.keyCode===38?-1:1,e.multiple));const k=$.value;if((D===void 0||K<Date.now())&&(D=""),k>0&&e.useInput!==!0&&t.key!==void 0&&t.key.length===1&&t.altKey===!1&&t.ctrlKey===!1&&t.metaKey===!1&&(t.keyCode!==32||D.length>0)){i.value!==!0&&qe(t);const T=t.key.toLocaleLowerCase(),B=D.length===1&&D[0]===T;K=Date.now()+1500,B===!1&&(de(t),D+=T);const L=new RegExp("^"+D.split("").map(et=>En.indexOf(et)>-1?"\\"+et:et).join(".*"),"i");let W=m.value;if(B===!0||W<0||L.test(J.value(e.options[W]))!==!0)do W=Mt(W+1,-1,k-1);while(W!==m.value&&(we.value(e.options[W])===!0||L.test(J.value(e.options[W]))!==!0));m.value!==W&&ce(()=>{xe(W),le(W),W>=0&&e.useInput===!0&&e.fillInput===!0&&$e(J.value(e.options[W]))});return}if(!(t.keyCode!==13&&(t.keyCode!==32||e.useInput===!0||D!=="")&&(t.keyCode!==9||v===!1))){if(t.keyCode!==9&&de(t),m.value>-1&&m.value<k){me(e.options[m.value]);return}if(g===!0){const T=(B,L)=>{if(L){if(It(L)!==!0)return}else L=e.newValueMode;if(B==null)return;Oe("",e.multiple!==!0,!0),(L==="toggle"?me:vt)(B,L==="add-unique"),e.multiple!==!0&&(F.value!==null&&F.value.focus(),he())};if(e.onNewValue!==void 0?n("newValue",h.value,T):T(h.value),e.multiple!==!0)return}i.value===!0?ke():S.innerLoading.value!==!0&&qe()}}function yt(){return s===!0?Y.value:X.value!==null&&X.value.contentEl!==null?X.value.contentEl:void 0}function cl(){return yt()}function dl(){return e.hideSelected===!0?[]:l["selected-item"]!==void 0?ve.value.map(t=>l["selected-item"](t)).slice():l.selected!==void 0?[].concat(l.selected()):e.useChips===!0?ve.value.map((t,g)=>q(sn,{key:"option-"+g,removable:S.editable.value===!0&&we.value(t.opt)!==!0,dense:!0,textColor:e.color,tabindex:fe.value,onRemove(){t.removeAtIndex(g)}},()=>q("span",{class:"ellipsis",[t.html===!0?"innerHTML":"textContent"]:J.value(t.opt)}))):[q("span",{[ne.value===!0?"innerHTML":"textContent"]:c.value})]}function wt(){if(d.value===!0)return l["no-option"]!==void 0?l["no-option"]({inputValue:h.value}):void 0;const t=l.option!==void 0?l.option:v=>q(en,{key:v.index,...v.itemProps},()=>q(Zl,()=>q(cn,()=>q("span",{[v.html===!0?"innerHTML":"textContent"]:v.label}))));let g=ee("div",ye.value.map(t));return l["before-options"]!==void 0&&(g=l["before-options"]().concat(g)),tn(l["after-options"],g)}function fl(t,g){const v=g===!0?{...se.value,...S.splitAttrs.attributes.value}:void 0,k={ref:g===!0?F:void 0,key:"i_t",class:P.value,style:e.inputStyle,value:h.value!==void 0?h.value:"",type:"search",...v,id:g===!0?S.targetUid.value:void 0,maxlength:e.maxlength,autocomplete:e.autocomplete,"data-autofocus":t===!0||e.autofocus===!0||void 0,disabled:e.disable===!0,readonly:e.readonly===!0,...al.value};return t!==!0&&s===!0&&(Array.isArray(k.class)===!0?k.class=[...k.class,"no-pointer-events"]:k.class+=" no-pointer-events"),q("input",k)}function xt(t){x!==null&&(clearTimeout(x),x=null),!(t&&t.target&&t.target.qComposing===!0)&&($e(t.target.value||""),M=!0,E=h.value,S.focused.value!==!0&&(s!==!0||b.value===!0)&&S.focus(),e.onFilter!==void 0&&(x=setTimeout(()=>{x=null,Ce(h.value)},e.inputDebounce)))}function $e(t){h.value!==t&&(h.value=t,n("inputValue",t))}function Oe(t,g,v){M=v!==!0,e.useInput===!0&&($e(t),(g===!0||v!==!0)&&(E=t),g!==!0&&Ce(t))}function Ce(t,g,v){if(e.onFilter===void 0||g!==!0&&S.focused.value!==!0)return;S.innerLoading.value===!0?n("filterAbort"):(S.innerLoading.value=!0,r.value=!0),t!==""&&e.multiple!==!0&&f.value.length>0&&M!==!0&&t===J.value(f.value[0])&&(t="");const k=setTimeout(()=>{i.value===!0&&(i.value=!1)},10);H!==null&&clearTimeout(H),H=k,n("filter",t,(T,B)=>{(g===!0||S.focused.value===!0)&&H===k&&(clearTimeout(H),typeof T=="function"&&T(),r.value=!1,ce(()=>{S.innerLoading.value=!1,S.editable.value===!0&&(g===!0?i.value===!0&&he():i.value===!0?Ze(!0):i.value=!0),typeof B=="function"&&ce(()=>{B(o)}),typeof v=="function"&&ce(()=>{v(o)})}))},()=>{S.focused.value===!0&&H===k&&(clearTimeout(H),S.innerLoading.value=!1,r.value=!1),i.value===!0&&(i.value=!1)})}function vl(){return q(qn,{ref:X,class:p.value,style:e.popupContentStyle,modelValue:i.value,fit:e.menuShrink!==!0,cover:e.optionsCover===!0&&d.value!==!0&&e.useInput!==!0,anchor:e.menuAnchor,self:e.menuSelf,offset:e.menuOffset,dark:C.value,noParentEvent:!0,noRefocus:!0,noFocus:!0,square:Te.value,transitionShow:e.transitionShow,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,separateClosePopup:!0,...Ie.value,onScrollPassive:te,onBeforeShow:kt,onBeforeHide:ml,onShow:hl},wt)}function ml(t){qt(t),ke()}function hl(){j()}function gl(t){pe(t),F.value!==null&&F.value.focus(),b.value=!0,window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,0)}function Sl(t){pe(t),ce(()=>{b.value=!1})}function bl(){const t=[q(an,{class:`col-auto ${S.fieldClass.value}`,...w.value,for:S.targetUid.value,dark:C.value,square:!0,loading:r.value,itemAligned:!1,filled:!0,stackLabel:h.value.length>0,...S.splitAttrs.listeners.value,onFocus:gl,onBlur:Sl},{...l,rawControl:()=>S.getControl(!0),before:void 0,after:void 0})];return i.value===!0&&t.push(q("div",{ref:Y,class:p.value+" scroll",style:e.popupContentStyle,...Ie.value,onClick:Pe,onScrollPassive:te},wt())),q(pn,{ref:N,modelValue:a.value,position:e.useInput===!0?"top":void 0,transitionShow:R,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,onBeforeShow:kt,onBeforeHide:yl,onHide:wl,onShow:xl},()=>q("div",{class:"q-select__dialog"+(C.value===!0?" q-select__dialog--dark q-dark":"")+(b.value===!0?" q-select__dialog--focused":"")},t))}function yl(t){qt(t),N.value!==null&&N.value.__updateRefocusTarget(S.rootRef.value.querySelector(".q-field__native > [tabindex]:last-child")),S.focused.value=!1}function wl(t){he(),S.focused.value===!1&&n("blur",t),Ve()}function xl(){const t=document.activeElement;(t===null||t.id!==S.targetUid.value)&&F.value!==null&&F.value!==t&&F.value.focus(),j()}function ke(){a.value!==!0&&(m.value=-1,i.value===!0&&(i.value=!1),S.focused.value===!1&&(H!==null&&(clearTimeout(H),H=null),S.innerLoading.value===!0&&(n("filterAbort"),S.innerLoading.value=!1,r.value=!1)))}function qe(t){S.editable.value===!0&&(s===!0?(S.onControlFocusin(t),a.value=!0,ce(()=>{S.focus()})):S.focus(),e.onFilter!==void 0?Ce(h.value):(d.value!==!0||l["no-option"]!==void 0)&&(i.value=!0))}function he(){a.value=!1,ke()}function Ve(){e.useInput===!0&&Oe(e.multiple!==!0&&e.fillInput===!0&&f.value.length>0&&J.value(f.value[0])||"",!0,!0)}function Ze(t){let g=-1;if(t===!0){if(f.value.length>0){const v=Q.value(f.value[0]);g=e.options.findIndex(k=>Fe(Q.value(k),v))}ie(g)}xe(g)}function Cl(t,g){i.value===!0&&S.innerLoading.value===!1&&(ie(-1,!0),ce(()=>{i.value===!0&&S.innerLoading.value===!1&&(t>g?ie():Ze(!0))}))}function Ct(){a.value===!1&&X.value!==null&&X.value.updatePosition()}function kt(t){t!==void 0&&pe(t),n("popupShow",t),S.hasPopupOpen=!0,S.onControlFocusin(t)}function qt(t){t!==void 0&&pe(t),n("popupHide",t),S.hasPopupOpen=!1,S.onControlFocusout(t)}function Vt(){s=u.platform.is.mobile!==!0&&e.behavior!=="dialog"?!1:e.behavior!=="menu"&&(e.useInput===!0?l["no-option"]!==void 0||e.onFilter!==void 0||d.value===!1:!0),R=u.platform.is.ios===!0&&s===!0&&e.useInput===!0?"fade":e.transitionShow}return Yl(Vt),Gl(Ct),Vt(),_e(()=>{x!==null&&clearTimeout(x)}),Object.assign(o,{showPopup:qe,hidePopup:he,removeAtIndex:Ye,add:vt,toggleOption:me,getOptionIndex:()=>m.value,setOptionIndex:xe,moveOptionSelection:De,filter:Ce,updateMenuPosition:Ct,updateInputValue:Oe,isOptionSelected:Je,getEmittingOptionValue:ft,isOptionDisabled:(...t)=>we.value.apply(null,t)===!0,getOptionValue:(...t)=>Q.value.apply(null,t),getOptionLabel:(...t)=>J.value.apply(null,t)}),Object.assign(S,{innerValue:f,fieldClass:y(()=>`q-select q-field--auto-height q-select--with${e.useInput!==!0?"out":""}-input q-select--with${e.useChips!==!0?"out":""}-chips q-select--${e.multiple===!0?"multiple":"single"}`),inputRef:O,targetRef:F,hasValue:_,showPopup:qe,floatingLabel:y(()=>e.hideSelected!==!0&&_.value===!0||typeof h.value=="number"||h.value.length>0||Et(e.displayValue)),getControlChild:()=>{if(S.editable.value!==!1&&(a.value===!0||d.value!==!0||l["no-option"]!==void 0))return s===!0?bl():vl();S.hasPopupOpen===!0&&(S.hasPopupOpen=!1)},controlEvents:{onFocusin(t){S.onControlFocusin(t)},onFocusout(t){S.onControlFocusout(t,()=>{Ve(),ke()})},onClick(t){if(Pe(t),s!==!0&&i.value===!0){ke(),F.value!==null&&F.value.focus();return}qe(t)}},getControl:t=>{const g=dl(),v=t===!0||a.value!==!0||s!==!0;if(e.useInput===!0)g.push(fl(t,v));else if(S.editable.value===!0){const T=v===!0?se.value:void 0;g.push(q("input",{ref:v===!0?F:void 0,key:"d_t",class:"q-select__focus-target",id:v===!0?S.targetUid.value:void 0,value:c.value,readonly:!0,"data-autofocus":t===!0||e.autofocus===!0||void 0,...T,onKeydown:bt,onKeyup:ht,onKeypress:St})),v===!0&&typeof e.autocomplete=="string"&&e.autocomplete.length>0&&g.push(q("input",{class:"q-select__autocomplete-input",autocomplete:e.autocomplete,tabindex:-1,onKeyup:gt}))}if(ae.value!==void 0&&e.disable!==!0&&Re.value.length>0){const T=Re.value.map(B=>q("option",{value:B,selected:!0}));g.push(q("select",{class:"hidden",name:ae.value,multiple:e.multiple},T))}const k=e.useInput===!0||v!==!0?void 0:S.splitAttrs.attributes.value;return q("div",{class:"q-field__native row items-center",...k},g)},getInnerAppend:()=>e.loading!==!0&&r.value!==!0&&e.hideDropdownIcon!==!0?[q(Ke,{class:"q-select__dropdown-icon"+(i.value===!0?" rotate-180":""),name:Le.value})]:null}),Rt(S)}});export{On as Q,un as a,pn as b,Bn as c,Tn as d,dn as e,fn as f,zn as g,qn as h,on as u};
