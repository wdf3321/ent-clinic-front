import{Q as m}from"./QInput.775a7e16.js";import{aT as v,v as y,aU as b,r as u,x,y as w,z as Q,A as l,f as o,B as p,Q as d,P as V}from"./index.77754d8b.js";import{Q as q}from"./QForm.b0f41dfa.js";import"./use-key-composition.0bb687f3.js";const B={id:"sm",class:"row q-pa-xs justify-center text-center reverse-md"},S={id:"login",class:"text-center col-xs-12 col-md-6 q-mb-xl","data-aos":"fade-left"},U=l("h5",null,"\u767B\u5165",-1),k={class:"col-xs-12 col-md-6 q-mb-xl","data-aos":"fade-right"},z=l("h4",null,"\u8A3B\u518A\u5E33\u865F\u53EF\u4EE5?",-1),A=l("h5",null,"1.\u4EAB\u53D7\u66F4\u591A\u798F\u5229",-1),C=l("h5",null,"2.\u4E86\u89E3\u66F4\u591A\u798F\u5229",-1),j={__name:"LoginPage",setup(L){const a=v(),f=y(),t=b(),r=u(!1),i=u(!0),e=x({account:"",password:""});t.role===1||t.isAdmin===!0?a.push("/admin"):t.isLogin===!0&&t.role===0?a.push("/user"):a.push("/login");const g=u(!1),c=async()=>{await t.login(e)},h=async()=>{e.account&&e.password!==null?(r.value=!0,await c(),r.value=!1,t.role===1||t.isAdmin===!0?(a.push("/admin"),r.value=!1):t.isLogin===!0&&t.role===0?(a.push("/user"),r.value=!1):a.push("/login")):f.notify({color:"red-5",textColor:"white",icon:"warning",message:"\u8F38\u5165\u932F\u8AA4"})};function _(){e.name="",e.account="",e.password="",e.phone="",g.value=!1}return(P,n)=>(w(),Q("div",B,[l("div",S,[U,o(q,{onSubmit:h,onReset:_,class:"q-gutter-md"},{default:p(()=>[o(m,{outlined:"",type:"text",modelValue:e.account,"onUpdate:modelValue":n[0]||(n[0]=s=>e.account=s),label:"\u5E33\u865F",hint:"\u8ACB\u8F38\u5165\u5E33\u865F","lazy-rules":"",rules:[s=>s&&s.length>=4||"\u6700\u5C114\u4F4D\u6578\u4EE5\u4E0A"]},null,8,["modelValue","rules"]),o(m,{outlined:"",modelValue:e.password,"onUpdate:modelValue":n[2]||(n[2]=s=>e.password=s),label:"\u5BC6\u78BC",hint:"\u8ACB\u8F38\u5165\u5BC6\u78BC","lazy-rules":"",rules:[s=>s&&s.length>=4||"\u6700\u5C114\u4F4D\u6578\u4EE5\u4E0A"],type:i.value?"password":"text"},{append:p(()=>[o(V,{name:i.value?"visibility_off":"visibility",class:"cursor-pointer",onClick:n[1]||(n[1]=s=>i.value=!i.value)},null,8,["name"])]),_:1},8,["modelValue","rules","type"]),l("div",null,[o(d,{onSubmit:c,label:"\u9001\u51FA",type:"submit",color:"primary",loading:r.value},null,8,["loading"]),o(d,{label:"\u91CD\u5BEB",type:"reset",color:"primary",flat:"",class:"q-ml-sm"})])]),_:1})]),l("div",k,[z,A,C,o(d,{id:"register1",label:"\u6211\u8981\u8A3B\u518A",type:"button",color:"primary",to:"/register"})])]))}};export{j as default};
