import{aQ as g,aR as h,aS as y,r as d,s as x,v,x as b,y as o,d as a,Q as u,z as w}from"./index.d5febfd2.js";import{Q as c}from"./QInput.66b81590.js";import{Q}from"./QForm.e1dc8727.js";import"./use-key-composition.bf0cfc1a.js";const V={id:"sm",class:"row q-pa-xs justify-center text-center"},q={class:"col-xs-12 col-md-6 q-mb-xl","data-aos":"fade-right"},S=o("h4",null,"\u8A3B\u518A\u5E33\u865F\u53EF\u4EE5?",-1),B=o("h5",null,"1.\u4EAB\u53D7\u66F4\u591A\u798F\u5229",-1),L=o("h5",null,"2.\u4E86\u89E3\u66F4\u591A\u798F\u5229",-1),R={id:"login",class:"text-center col-xs-12 col-md-6 q-mb-xl","data-aos":"fade-left"},z=o("h5",null,"\u767B\u5165",-1),j={__name:"LoginPage",setup(U){const l=g(),m=h(),s=y(),n=d(!1),e=x({account:"",password:""});s.role===1||s.isAdmin===!0?l.push("/admin"):s.isLogin===!0&&s.role===0?l.push("/user"):l.push("/login");const p=d(!1),i=async()=>{await s.login(e)},f=async()=>{e.account&&e.password!==null?(n.value=!0,await i(),n.value=!1,s.role===1||s.isAdmin===!0?(l.push("/admin"),n.value=!1):s.isLogin===!0&&s.role===0?(l.push("/user"),n.value=!1):l.push("/login")):m.notify({color:"red-5",textColor:"white",icon:"warning",message:"\u8F38\u5165\u932F\u8AA4"})};function _(){e.name="",e.account="",e.password="",e.phone="",p.value=!1}return(k,r)=>(v(),b("div",V,[o("div",q,[S,B,L,a(u,{id:"register1",label:"\u53BB\u8A3B\u518A",type:"button",color:"primary",to:"/register"})]),o("div",R,[z,a(Q,{onSubmit:f,onReset:_,class:"q-gutter-md"},{default:w(()=>[a(c,{outlined:"",type:"text",modelValue:e.account,"onUpdate:modelValue":r[0]||(r[0]=t=>e.account=t),label:"\u5E33\u865F",hint:"\u8ACB\u8F38\u5165\u5E33\u865F","lazy-rules":"",rules:[t=>t&&t.length>=4||"\u6700\u5C114\u4F4D\u6578\u4EE5\u4E0A"]},null,8,["modelValue","rules"]),a(c,{outlined:"",type:"password",modelValue:e.password,"onUpdate:modelValue":r[1]||(r[1]=t=>e.password=t),label:"\u5BC6\u78BC",hint:"\u8ACB\u8F38\u5165\u5BC6\u78BC","lazy-rules":"",rules:[t=>t&&t.length>=4||"\u6700\u5C114\u4F4D\u6578\u4EE5\u4E0A"]},null,8,["modelValue","rules"]),o("div",null,[a(u,{onSubmit:i,label:"\u9001\u51FA",type:"submit",color:"primary",loading:n.value},null,8,["loading"]),a(u,{label:"\u91CD\u5BEB",type:"reset",color:"primary",flat:"",class:"q-ml-sm"})])]),_:1})])]))}};export{j as default};
